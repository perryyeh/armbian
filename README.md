# Armbian æ—è·¯ç”±è„šæœ¬ 

æ­¤é¡¹ç›®æä¾›å¿«æ·è„šæœ¬ï¼Œç”¨äºåœ¨ç±»Armbianç³»ç»Ÿä¸­åˆ›å»ºDocker macvlanç½‘ç»œï¼Œå¹¶é…ç½®å®¿ä¸»æœºä¸å®¹å™¨ä¹‹é—´çš„macvlan bridgeäº’é€šã€‚

æ ¸å¿ƒå®¹å™¨æ˜¯mosdnså’Œadguardhomeï¼Œ mosdnsæä¾›åŸŸååˆ†æµï¼ˆåˆ†æµåçš„å¤–éƒ¨åŸŸåé‡‡ç”¨FakeIPæ–¹æ¡ˆï¼‰ï¼Œadguardhomeæä¾›åŸŸåç¼“å­˜ã€‚

æœ¬ä»£ç å·²åœ¨ç¾¤æ™–7.3+ï¼ˆå¯èƒ½éœ€è¦è¡¥å…¨æ¬ ç¼ºçš„å‘½ä»¤ï¼‰ï¼Œé£ç‰›1.0+ï¼Œarmbianï¼ˆlinux6.1+ï¼‰ ä¸Šæµ‹è¯•é€šè¿‡ã€‚

ä½¿ç”¨åˆ°çš„æ ¸å¿ƒä»“åº“å¦‚ä¸‹ï¼š
- https://github.com/IrineSistiana/mosdns
- https://github.com/AdguardTeam/AdGuardHome

ä½¿ç”¨åˆ°çš„dockeré•œåƒå¦‚ä¸‹ï¼š
- https://hub.docker.com/r/irinesistiana/mosdns
- https://hub.docker.com/r/adguard/adguardhome
- https://hub.docker.com/r/metacubex/mihomo

---
## âœ¨ åŠŸèƒ½ç‰¹æ€§
- äº¤äº’å¼é€‰æ‹©ç½‘å¡å¹¶ç¡®è®¤ IP / ç½‘å…³ / å­ç½‘é…ç½®
- åˆ›å»º Docker macvlan ç½‘ç»œ
- åˆ›å»ºå®¿ä¸»æœº `macvlan-bridge` æ¥å£ç”¨äºäº’é€š
- å†™å…¥å¹¶å¯ç”¨ Systemd æœåŠ¡ï¼Œç¡®ä¿å¼€æœºè‡ªå¯
- é¢„å®šä¹‰å¤šä¸ªå®¹å™¨ IPï¼šlibrespeedï¼ˆ.111ï¼‰ AdGuardhomeï¼ˆ.114ï¼‰ã€MosDNSï¼ˆ.119ï¼‰ã€Mihomoï¼ˆ.120ï¼‰
- æ­¤ä»£ç å¤šæ•°ç”±openaiå’Œgemimiç”Ÿæˆ
---

## ğŸ§± è„šæœ¬èœå•è¯´æ˜

## ğŸ—‚ï¸ è„šæœ¬åŠŸèƒ½ç›®å½•

| åºå· | åŠŸèƒ½æè¿°           |
|----|----------------|
| 0  | æ˜¾ç¤ºèœå•           |
| 1  | æ˜¾ç¤ºæ“ä½œç³»ç»Ÿä¿¡æ¯       |
| 2  | æ˜¾ç¤ºç½‘å¡ä¿¡æ¯         |
| 3  | æ˜¾ç¤ºç£ç›˜ä¿¡æ¯         |
| 4  | æ˜¾ç¤º Docker ä¿¡æ¯   |
| 5  | æ ¼å¼åŒ–ç£ç›˜å¹¶æŒ‚è½½       |
| 7  | å®‰è£… Docker      |
| 8  | åˆ›å»ºmacvlanï¼ˆåŒ…æ‹¬ipv4+ipv6ï¼‰ |
| 9  | æ¸…ç† macvlan     |
| 10 | å®‰è£… Portainer   |
| 11 | å®‰è£… LibreSpeed  |
| 14 | å®‰è£… AdGuardHome |
| 19 | å®‰è£… mosdns      |
| 20 | å®‰è£… mihomo      |
| 45 | å®‰è£… samba       |
| 70 | è¿ç§»dockerç›®å½•     |
| 71 | ä¼˜åŒ–dockeræ—¥å¿—     |
| 90 | åˆ›å»ºmacvlan bridge |
| 91 | æ¸…ç†macvlan bridge     |
| 97 | å®‰è£…watchtower è‡ªåŠ¨æ›´æ–° |
| 98 | å¼ºåˆ¶ä½¿ç”¨watchtoweræ›´æ–°ä¸€æ¬¡é•œåƒ |
| 99 | é€€å‡ºè„šæœ¬           |


---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ç›´æ¥è¿è¡Œè„šæœ¬

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/perryyeh/armbian/main/install.sh)
```

### 2. æˆ–å…‹éš†é¡¹ç›®è¿è¡Œ

```bash
git clone https://github.com/perryyeh/armbian.git
cd armbian
chmod +x install.sh
./install.sh
```

### 3. å®‰è£…æ­¥éª¤

1. ç¡®ç«‹dockerå®¹å™¨å®‰è£…ç›®å½•ï¼Œç¡¬ç›˜æ²¡æœ‰æ ¼å¼åŒ–&åŠ è½½çš„å…ˆæ ¼å¼åŒ–&åŠ è½½
2. æ²¡æœ‰dockerçš„å…ˆå®‰è£…dockerï¼ˆç¾¤æ™–å’Œé£ç‰›æœ‰ï¼Œç›´æ¥è·³è¿‡ï¼‰
3. ç¾¤æ™–å’Œé£ç‰›çš„ç½‘å¡å»ºè®®å…ˆå¼€open vSwitch
4. ç¡®ç«‹ä¸“æœ‰ipæ®µç»™macvlanä½¿ç”¨ï¼Œipv4å»ºè®®ç»™ä¸€ä¸ªæ–°çš„/24æ®µï¼ˆæˆ–ç°æœ‰ipv4çš„å¼€å¤´/ç»“å°¾ï¼‰ï¼Œipv6 ulaå»ºè®®ç»™/64æ®µï¼Œåœ¨è·¯ç”±å™¨ä¸Šè®¾ç½®dhcpæ—¶å€™é¿å¼€è¿™æ®µä¸åˆ†é…
5. é€‰æ‹©ç½‘å¡ï¼ˆç¾¤æ™–å’Œé£ç‰›å»ºè®®é€‰ovså¼€å¤´ç½‘å¡ï¼‰ï¼Œåˆ›å»ºmacvlan
6. æ²¡æœ‰surge/openwrtå½“ä»£ç†çš„ï¼Œå¯å®‰è£…mihomoæ›¿ä»£ï¼Œmihomoéœ€å¼€tunæ¨¡å¼å¹¶é…ç½®å¥½ä¸Šæ¸¸ä»£ç†ã€‚
7. è·¯ç”±å™¨é‡Œé…ç½®é™æ€è·¯ç”±ï¼Œ198.18.0.0/15ä¸‹ä¸€è·³åˆ°surge/mihomoçš„ipã€‚
8. å®‰è£…mosdnsï¼Œé€‰surgeå½“ä¸Šæ¸¸æ—¶dnså†™198.18.0.2ï¼›é€‰mihomoå½“ä¸Šæ¸¸æ—¶ï¼Œdnså†™mihomoçš„ipã€‚
9. å®‰è£…adguardhomeï¼Œç”¨mosdnså½“ä¸Šæ¸¸ï¼Œdnså†™mosdnsçš„ipã€‚
10. æœ€ååˆ›å»ºmacvlan bridgeï¼Œè§£å†³å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´çš„äº’é€šã€‚

## ğŸ“¦ ä¾èµ–é¡¹
è„šæœ¬ä¾èµ–ä»¥ä¸‹å·¥å…·ï¼Œä¼šè‡ªåŠ¨å®‰è£…ï¼š
ipcalc 
curl 
jq 
git


## ğŸ“Œ æ³¨æ„äº‹é¡¹
- é»˜è®¤ä½¿ç”¨ipv4è®¡ç®—å®¹å™¨çš„macåœ°å€ï¼Œmacåœ°å€æ ¼å¼ç±»ä¼¼02:*:86
- é»˜è®¤ä½¿ç”¨ipv4è®¡ç®—ipv6 ulaåœ°å€ï¼ˆâš ï¸è¿™ä¸ç¬¦åˆRFC4193ï¼Œæƒ³åˆè§„å¯æ‰‹å·¥è¾“å…¥åˆè§„çš„ipv6 ulaï¼‰ï¼Œç”Ÿæˆfd10::/64ï¼ˆå¯¹åº”10.0.0.0/8ï¼‰ã€fd17::/64ï¼ˆå¯¹åº”172.16.0.0/12ï¼‰ã€fd19::/64ï¼ˆå¯¹åº”192.168.0.0/16ï¼‰ä½œä¸º IPv6 ç½‘æ®µï¼Œå¦‚ä¸é»˜è®¤åˆ™ä¸€å®šè¦æ‰‹å·¥è¾“å…¥ipv6 ula
- å®‰è£…macvlan bridgeé”™è¯¯è¯·å›æ»šæ“ä½œï¼Œä»¥å…æµé‡æ­»å¾ªç¯å¯¼è‡´æ— æ³•è¿›å…¥è€Œé‡æ–°åˆ·æœº


## ğŸ“œ License
MIT License Â© 2025